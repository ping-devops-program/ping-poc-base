kind: Kustomization
apiVersion: kustomize.config.k8s.io/v1beta1

resources:
- ../k8s-configs/cluster-tools
- ../k8s-configs/ping-cloud


configMapGenerator:
- name: pingfederate-environment-variables
  behavior: merge
  env: env_vars
- name: pingfederateconsole-environment-variables
  behavior: merge
  env: env_vars

patchesJson6902:
# - path: logs_ingress_patch.yaml
#   target:
#     group: extensions
#     version: v1beta1
#     kind: Ingress
#     name: kibana-ingress
- path: pingfederate_ingress_patch.yaml
  target:
    group: extensions
    version: v1beta1
    kind: Ingress
    name: pingfederate-ingress
- path: pingfederateconsole_ingress_patch.yaml
  target:
    group: extensions
    version: v1beta1
    kind: Ingress
    name: pingfederate-ingress    
# patches:
# - path: security-group-ips.yaml
#   target:
#     kind: Ingress
# TODO
# - path: pingdatagovernance_ingress_patch.yaml
#   target:
#     group: extensions
#     version: v1beta1
#     kind: Ingress
#     name: pingdatagovernance-ingress
# - path: pingdatagovernancepap_ingress_patch.yaml
#   target:
#     group: extensions
#     version: v1beta1
#     kind: Ingress
#     name: pingdatagovernancepap-ingress